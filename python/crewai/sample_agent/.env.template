# =============================================================================
# CrewAI Agent Sample - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# Lines starting with # are comments. Remove # to enable a variable.
# =============================================================================

# -----------------------------------------------------------------------------
# OPENAI / AZURE OPENAI CONFIGURATION
# -----------------------------------------------------------------------------
# Choose ONE of the following configurations:

# Option A: Standard OpenAI
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Option B: Azure OpenAI (recommended for enterprise)
# Get these values from Azure Portal > Your OpenAI Resource > Keys and Endpoint
AZURE_API_KEY=
AZURE_API_BASE=
AZURE_API_VERSION=2025-01-01-preview
AZURE_OPENAI_DEPLOYMENT=azure/gpt-4.1

# Model Configuration
# For Azure OpenAI: Use "azure/<deployment-name>" format (e.g., azure/gpt-4.1)
# For OpenAI: Use model name directly (e.g., gpt-4o-mini)
OPENAI_MODEL_NAME=azure/gpt-4.1

# -----------------------------------------------------------------------------
# MCP (MODEL CONTEXT PROTOCOL) AUTHENTICATION
# -----------------------------------------------------------------------------
# These settings enable MCP tools like Mail, Calendar, and Copilot

# Bearer Token for MCP Server Authentication
# Generate with: a365 develop get-token -o raw
# This token expires - regenerate when you see MCP connection errors
BEARER_TOKEN=

# Agentic Authentication Mode
# Set to "false" for local development with bearer token
# Set to "true" for production with full app registration
USE_AGENTIC_AUTH=false

AUTH_HANDLER_NAME=AGENTIC

# Agentic authentication scope (required if USE_AGENTIC_AUTH=true)
# Example: https://api.powerplatform.com/.default
AGENTIC_AUTH_SCOPE=https://api.powerplatform.com/.default

# Agent identifiers
# AGENT_ID is the primary identifier used by the backend for observability.
# If not set, the application automatically falls back to using AGENTIC_APP_ID.
AGENT_ID=

# Agent Application ID (used for MCP tool discovery and as the default agent ID)
# This identifies your agent when connecting to MCP servers
AGENTIC_APP_ID=crewai-agent

# -----------------------------------------------------------------------------
# TAVILY API - WEATHER SEARCH TOOL
# -----------------------------------------------------------------------------
# Required for the WeatherTool to search current weather conditions
# Get your free API key from https://tavily.com
TAVILY_API_KEY=

# -----------------------------------------------------------------------------
# OBSERVABILITY CONFIGURATION
# -----------------------------------------------------------------------------
# These settings configure Agent 365 observability tracing

# Service identifiers for telemetry
OBSERVABILITY_SERVICE_NAME=crewai-agent-sample
OBSERVABILITY_SERVICE_NAMESPACE=agent365-samples

# Enable/disable observability features
ENABLE_OBSERVABILITY=true

# Enable Agent 365 cloud exporter (requires valid token)
# Set to "true" to send traces to Agent 365 observability backend
ENABLE_A365_OBSERVABILITY_EXPORTER=false

# Python environment indicator
PYTHON_ENVIRONMENT=development

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# The port the agent server listens on
# If busy, the server will automatically try the next available port
PORT=3978

# Logging verbosity: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# MCP SERVER CONFIGURATION (ADVANCED)
# -----------------------------------------------------------------------------
# These are typically not needed for standard usage

# Local MCP server settings (for custom MCP server development)
MCP_SERVER_PORT=
MCP_SERVER_HOST=
MCP_DEVELOPMENT_BASE_URL=

# -----------------------------------------------------------------------------
# AGENT 365 APP REGISTRATION (PRODUCTION)
# -----------------------------------------------------------------------------
# Required for production deployments with full authentication
# Get these from Azure Portal > App Registrations > Your App

# Azure AD App Registration
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTID=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__CLIENTSECRET=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__TENANTID=
CONNECTIONS__SERVICE_CONNECTION__SETTINGS__SCOPES=https://graph.microsoft.com/.default

# Service URL mapping
CONNECTIONSMAP__0__SERVICEURL=*
CONNECTIONSMAP__0__CONNECTION=SERVICE_CONNECTION


# Agent application user authorization settings
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__TYPE=AgenticUserAuthorization
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__ALT_BLUEPRINT_NAME=SERVICE_CONNECTION
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__SCOPES=https://graph.microsoft.com/.default
AGENTAPPLICATION__USERAUTHORIZATION__HANDLERS__AGENTIC__SETTINGS__ALTERNATEBLUEPRINTCONNECTIONNAME=https://graph.microsoft.com/.default

# =============================================================================
# CLIENT CREDENTIALS AUTHENTICATION (Optional)
# =============================================================================
# For production deployments, use client credentials instead of bearer token

# Azure AD Client ID
CLIENT_ID=

# Azure AD Tenant ID
TENANT_ID=

# Azure AD Client Secret
CLIENT_SECRET=

WEBSITE_INSTANCE_ID=

